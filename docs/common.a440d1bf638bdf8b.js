"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[592],{1651:(Z,f,o)=>{o.d(f,{r:()=>_});var l=o(4769);let _=(()=>{var e;class d{transform(m,C){return m.split(" ",C).join(" ")}}return(e=d).\u0275fac=function(m){return new(m||e)},e.\u0275pipe=l.Yjl({name:"cuttext",type:e,pure:!0,standalone:!0}),d})()},4768:(Z,f,o)=>{o.d(f,{e:()=>C});var l=o(6726),_=o(5619);const e_baseUrlAuth="https://ecommerce.routemisr.com/api/v1/auth";var d=o(4769),t=o(9862),m=o(1120);let C=(()=>{var p;class c{constructor(r,n){this._HttpClient=r,this._Router=n,this.userData=new _.X(null),this.saveUser()}saveUser(){const r=localStorage.getItem("_token");if(r)try{const n=(0,l.Z)(r);this.userData.next(n)}catch(n){n.message.includes("Invalid token")&&(localStorage.removeItem("_token"),this._Router.navigate(["/login"]))}}setRegister(r){return this._HttpClient.post(e_baseUrlAuth+"/signup",r)}setLogin(r){return this._HttpClient.post(e_baseUrlAuth+"/signin",r)}setForgotPassword(r){return this._HttpClient.post(e_baseUrlAuth+"/forgotPasswords",r)}setVerifyResetCode(r){return this._HttpClient.post(e_baseUrlAuth+"/verifyResetCode",r)}resetPassword(r){return this._HttpClient.put(e_baseUrlAuth+"/resetPassword",r)}}return(p=c).\u0275fac=function(r){return new(r||p)(d.LFG(t.eN),d.LFG(m.F0))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),c})()},5830:(Z,f,o)=>{o.d(f,{A:()=>g});var l=o(6814),_=o(1120),e=o(2425),d=o(1651),t=o(4769),m=o(1731);function C(i,h){if(1&i){const v=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(v);const a=t.oxw();return t.KtG(a.addToWhish(a.product._id))}),t._UZ(1,"i",15),t.qZA()}}function p(i,h){if(1&i){const v=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(){t.CHM(v);const a=t.oxw();return t.KtG(a.removeFromWhish(a.product._id))}),t._UZ(1,"i",16),t.qZA()}}function c(i,h){1&i&&t._UZ(0,"i",18)}function b(i,h){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,c,1,0,"i",17),t.qZA()),2&i){const v=h.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf",v<=s.product.ratingsAverage)}}function r(i,h){1&i&&(t.TgZ(0,"li"),t._UZ(1,"i",19),t.qZA())}const n=function(i){return["/products",i]},u=function(){return[1,2,3,4,5]};let g=(()=>{var i;class h{constructor(s,a,T){this._EcomdataService=s,this._ToastrService=a,this._ChangeDetectorRef=T,this.cutTextNum=0,this.whish=[]}addToCart(s){this._EcomdataService.addToCart(s)}addToWhish(s){this._EcomdataService.setWishlist(s).subscribe({next:a=>{"success"===a.status&&(this._ToastrService.success(a.message,"",{positionClass:"toast-bottom-right"}),this.whish=a.data)}})}removeFromWhish(s){this._EcomdataService.removeWishlist(s).subscribe({next:a=>{"success"===a.status&&(this._ToastrService.success(a.message,"",{positionClass:"toast-bottom-right"}),this.whish=a.data,console.log(this.whish))}})}}return(i=h).\u0275fac=function(s){return new(s||i)(t.Y36(m.J),t.Y36(e._W),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-card"]],inputs:{product:"product",cutTextNum:"cutTextNum",whish:"whish"},standalone:!0,features:[t.jDz],decls:24,vars:20,consts:[[1,"product"],[1,"ptorcut-area","position-relative"],["role","button","class","heart",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],[1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["role","button",1,"heart",3,"click"],[1,"fas","fa-heart"],[1,"fa-solid","fa-heart-crack"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"]],template:function(s,a){1&s&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t.YNc(3,C,2,0,"span",2),t.YNc(4,p,2,0,"span",2),t.TgZ(5,"header",3),t._UZ(6,"img",4),t.TgZ(7,"h4",5),t._uU(8),t.qZA(),t.TgZ(9,"h3",6),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",7)(13,"span",8),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",9)(17,"ul",10),t.YNc(18,b,2,1,"li",11),t.YNc(19,r,2,0,"li",12),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",13),t.NdJ("click",function(){return a.addToCart(a.product._id)}),t._uU(23," + Add To Cart "),t.qZA()()()),2&s&&(t.xp6(3),t.Q6J("ngIf",!a.whish.includes(a.product._id)),t.xp6(1),t.Q6J("ngIf",a.whish.includes(a.product._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,n,a.product._id)),t.xp6(1),t.Q6J("src",a.product.imageCover,t.LSH)("alt",a.product.title),t.xp6(2),t.Oqu(a.product.category.name),t.xp6(2),t.Oqu(t.xi3(11,11,a.product.title,a.cutTextNum)),t.xp6(4),t.hij(" ",t.xi3(15,14,a.product.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(19,u)),t.xp6(1),t.Q6J("ngIf",a.product.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",a.product.ratingsAverage," "))},dependencies:[l.ez,l.sg,l.O5,l.H9,_.rH,d.r,e.Rh],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]}),h})()},953:(Z,f,o)=>{o.d(f,{S:()=>p});var l=o(6814),_=o(1120),e=o(4769),d=o(4768),t=o(1731);const m=["navbar"];function C(c,b){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const r=e.oxw();e.xp6(1),e.hij(" ",r.cartItemNumber," ")}}let p=(()=>{var c;class b{constructor(n,u,g,i){this._AuthService=n,this._Router=u,this._Renderer2=g,this._EcomdataService=i,this.cartItemNumber=0,this.userName=""}ngOnInit(){this._AuthService.userData.subscribe({next:n=>{null!==n&&(this.userName=n.name.slice(0,1).toUpperCase())}}),this._Router.url.includes("cart")||this._EcomdataService.getCartData().subscribe({next:n=>{"success"===n.status&&this._EcomdataService.cartNumber.next(n.numOfCartItems)},error:n=>{console.log("Error Cart Nav",n.error.message)}}),this._EcomdataService.cartNumber.subscribe({next:n=>{this.cartItemNumber=n}})}onScroll(){scrollY>200?(this._Renderer2.addClass(this.navbar.nativeElement,"px-5"),this._Renderer2.addClass(this.navbar.nativeElement,"py-3")):(this._Renderer2.removeClass(this.navbar.nativeElement,"px-5"),this._Renderer2.removeClass(this.navbar.nativeElement,"py-3"))}logOut(){localStorage.removeItem("_token"),this._AuthService.userData.next(null),this._Router.navigate(["/login"])}}return(c=b).\u0275fac=function(n){return new(n||c)(e.Y36(d.e),e.Y36(_.F0),e.Y36(e.Qsj),e.Y36(t.J))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-navbar"]],viewQuery:function(n,u){if(1&n&&e.Gf(m,5),2&n){let g;e.iGM(g=e.CRH())&&(u.navbar=g.first)}},hostBindings:function(n,u){1&n&&e.NdJ("scroll",function(){return u.onScroll()},!1,e.Jf7)},standalone:!0,features:[e.jDz],decls:50,vars:2,consts:[[1,"navbar","shadow-sm","navbar-expand-lg","fixed-top","navbar-light","bg-light"],["navbar",""],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","./assets/images/freshcart-logo.svg","alt","freshCart"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mt-2","mt-lg-0"],[1,"nav-item"],["routerLinkActive","active-link","routerLink","/home",1,"nav-link"],["routerLinkActive","active-link","routerLink","/products",1,"nav-link"],["routerLinkActive","active-link","routerLink","/brands",1,"nav-link"],["routerLinkActive","active-link","routerLink","/categories",1,"nav-link"],[1,"navbar-nav","ms-auto","mt-2","mt-lg-0"],[1,"nav-item","me-4","hstack"],["routerLink","/whishlist",1,"text-main","cart-shop"],[1,"fas","fa-heart","fa-2x"],[1,"nav-item","me-4"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"],[1,"dropdown-menu"],["routerLinkActive","active-link","routerLink","/forgot",1,"dropdown-item","small"],["routerLinkActive","active-link","routerLink","/profile",1,"dropdown-item","small"],["routerLink","/cart",1,"text-main","cart-shop"],[1,"fas","fa-cart-shopping","fa-xl"],[4,"ngIf"],[1,"nav-item","d-flex","align-items-center","gap-3","me-4"],["href","#",1,"text-reset"],[1,"fab","fa-facebook"],[1,"fab","fa-whatsapp"],[1,"fab","fa-linkedin"],["role","button",1,"nav-link",3,"click"]],template:function(n,u){1&n&&(e.TgZ(0,"nav",0,1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"button",5),e._UZ(6,"span",6),e.qZA(),e.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",9)(13,"a",11),e._uU(14,"Products"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",12),e._uU(17,"Brands"),e.qZA()(),e.TgZ(18,"li",9)(19,"a",13),e._uU(20,"Categories"),e.qZA()()(),e.TgZ(21,"ul",14)(22,"li",15)(23,"a",16),e._UZ(24,"i",17),e.qZA()(),e.TgZ(25,"li",18)(26,"div",19)(27,"button",20),e._uU(28),e.qZA(),e.TgZ(29,"ul",21)(30,"li")(31,"a",22),e._uU(32,"Forgot Password"),e.qZA()(),e.TgZ(33,"li")(34,"a",23),e._uU(35,"Profile"),e.qZA()()()()(),e.TgZ(36,"li",15)(37,"a",24),e._UZ(38,"i",25),e.YNc(39,C,2,1,"span",26),e.qZA()(),e.TgZ(40,"li",27)(41,"a",28),e._UZ(42,"i",29),e.qZA(),e.TgZ(43,"a",28),e._UZ(44,"i",30),e.qZA(),e.TgZ(45,"a",28),e._UZ(46,"i",31),e.qZA()(),e.TgZ(47,"li",9)(48,"span",32),e.NdJ("click",function(){return u.logOut()}),e._uU(49,"SignOut"),e.qZA()()()()()()),2&n&&(e.xp6(28),e.hij(" ",u.userName," "),e.xp6(11),e.Q6J("ngIf",u.cartItemNumber))},dependencies:[l.ez,l.O5,_.rH,_.Od],styles:['.navbar[_ngcontent-%COMP%]{transition:padding 1s}.cart-shop[_ngcontent-%COMP%]{position:relative}.cart-shop[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:18%;left:36%;color:#343a40;z-index:10;font-weight:900}.dropdown-toggle[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #0aad0a;border-radius:50%;width:40px;height:40px;display:inline-block;padding:0;font-size:15px;position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:0;vertical-align:0;content:"";border-top:.5em solid #0aad0a;border-right:.5em solid transparent;border-left:.5em solid transparent;position:absolute;top:100%;left:50%;transform:translate(-50%)}.dropdown-item[_ngcontent-%COMP%]:focus, .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#055d0a!important;color:#fff!important}.dropdown-item[_ngcontent-%COMP%]{transition:1s!important;padding:4px!important}.dropdown-menu[_ngcontent-%COMP%]{padding:3px!important;text-align:center}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{left:-124%!important}']}),b})()}}]);