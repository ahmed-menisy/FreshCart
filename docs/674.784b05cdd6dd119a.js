"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[674],{5491:(D,d,r)=>{r.d(d,{J:()=>C});var l=r(5619),s=r(5516),u=r(4769),g=r(9862),t=r(2425);let C=(()=>{var _;class m{constructor(e,o){this._HttpClient=e,this._ToastrService=o,this.cartNumber=new l.X(0)}getUserOrders(e){return this._HttpClient.get(s.N.baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:o=>{"success"===o.status&&(this._ToastrService.success(o.message),this.cartNumber.next(o.numOfCartItems))}})}SetcheckOut(e,o){return this._HttpClient.post(s.N.baseUrlData+`/orders/checkout-session/${e}?url=${s.N.payUrl}`,o)}getProducts(e=1){return this._HttpClient.get(s.N.baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(s.N.baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(s.N.baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(s.N.baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(s.N.baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(s.N.baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(s.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(s.N.baseUrlData+"/cart")}updatePoductCount(e,o){return this._HttpClient.put(s.N.baseUrlData+"/cart/"+e,{count:o})}deletePoductCart(e){return this._HttpClient.delete(s.N.baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(s.N.baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(s.N.baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(s.N.baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(s.N.baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(s.N.baseUrlData+"/wishlist")}setAddresses(e){return this._HttpClient.post(s.N.baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(s.N.baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(s.N.baseUrlData+`/addresses/${e}`)}}return(_=m).\u0275fac=function(e){return new(e||_)(u.LFG(g.eN),u.LFG(t._W))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),m})()},3674:(D,d,r)=>{r.r(d),r.d(d,{WhishlistComponent:()=>E});var l=r(6814),s=r(1120),u=r(2425),g=r(1651),t=r(4769),C=r(5491);function _(i,h){1&i&&t._UZ(0,"i",19)}function m(i,h){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,_,1,0,"i",18),t.qZA()),2&i){const n=h.$implicit,a=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n<=a.ratingsAverage)}}function f(i,h){1&i&&(t.TgZ(0,"li"),t._UZ(1,"i",20),t.qZA())}const e=function(i){return["/products",i]},o=function(){return[1,2,3,4,5]};function U(i,h){if(1&i){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),t.NdJ("click",function(){const p=t.CHM(n).$implicit,v=t.oxw();return t.KtG(v.removeFromWhish(p._id))}),t._UZ(4,"i",6),t.qZA(),t.TgZ(5,"header",7),t._UZ(6,"img",8),t.TgZ(7,"h4",9),t._uU(8),t.qZA(),t.TgZ(9,"h3",10),t._uU(10),t.ALo(11,"cuttext"),t.qZA()(),t.TgZ(12,"footer",11)(13,"span",12),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",13)(17,"ul",14),t.YNc(18,m,2,1,"li",15),t.YNc(19,f,2,0,"li",16),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()(),t.TgZ(22,"button",17),t.NdJ("click",function(){const p=t.CHM(n).$implicit,v=t.oxw();return t.KtG(v.addToCart(p._id))}),t._uU(23," + Add To Cart "),t.qZA()()()}if(2&i){const n=h.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(15,e,n._id)),t.xp6(1),t.Q6J("src",n.imageCover,t.LSH)("alt",n.title),t.xp6(2),t.Oqu(n.category.name),t.xp6(2),t.Oqu(t.xi3(11,9,n.title,3)),t.xp6(4),t.hij(" ",t.xi3(15,12,n.price,"EGP")," "),t.xp6(4),t.Q6J("ngForOf",t.DdM(17,o)),t.xp6(1),t.Q6J("ngIf",n.ratingsAverage%1!=0),t.xp6(2),t.hij(" ",n.ratingsAverage," ")}}let E=(()=>{var i;class h{constructor(a,c){this._EcomdataService=a,this._ToastrService=c,this.whishList=[]}ngOnInit(){this._EcomdataService.getWishlist().subscribe({next:a=>{"success"===a.status&&(this.whishList=a.data)}})}addToCart(a){this._EcomdataService.addToCart(a)}removeFromWhish(a){this._EcomdataService.removeWishlist(a).subscribe({next:c=>{"success"===c.status&&(this._ToastrService.success(c.message,"",{positionClass:"toast-bottom-right"}),this.whishList=this.whishList.filter(p=>c.data.includes(p._id)),console.log(this.whishList))}})}}return(i=h).\u0275fac=function(a){return new(a||i)(t.Y36(C.J),t.Y36(u._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-whishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4","row-cols-xl-6","justify-content-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"product"],[1,"ptorcut-area","position-relative"],["role","button",1,"heart",3,"click"],[1,"fa-solid","fa-heart-crack"],["role","button",3,"routerLink"],["loading","lazy",1,"w-100",3,"src","alt"],[1,"h6","font-sm","text-main"],[1,"h6","small"],[1,"hstack","justify-content-between"],[1,"small"],[1,"d-flex","font-sm","align-items-center"],[1,"d-flex","mb-0","list-unstyled"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"add-btn","main-btn","w-100",3,"click"],["class","fas fa-star rating-color",4,"ngIf"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half","rating-color"]],template:function(a,c){1&a&&(t.TgZ(0,"section")(1,"div",0),t.YNc(2,U,24,18,"div",1),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngForOf",c.whishList))},dependencies:[l.ez,l.sg,l.O5,l.H9,s.rH,g.r,u.Rh],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:99;font-size:40px;color:#0aad0a;opacity:0;transform:translateY(20px);transition:opacity 1s,transform 1s}"]}),h})()},5516:(D,d,r)=>{r.d(d,{N:()=>l});const l={baseUrlAuth:"https://ecommerce.routemisr.com/api/v1/auth",baseUrlData:"https://ecommerce.routemisr.com/api/v1",payUrl:"http://localhost:4200"}}}]);