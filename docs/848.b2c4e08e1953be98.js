"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[848],{5491:(m,d,n)=>{n.d(d,{J:()=>g});var l=n(5619),r=n(5516),t=n(4769),u=n(9862),p=n(2425);let g=(()=>{var o;class _{constructor(e,s){this._HttpClient=e,this._ToastrService=s,this.cartNumber=new l.X(0)}getUserOrders(e){return this._HttpClient.get(r.N.baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:s=>{"success"===s.status&&(this._ToastrService.success(s.message),this.cartNumber.next(s.numOfCartItems))}})}SetcheckOut(e,s){return this._HttpClient.post(r.N.baseUrlData+`/orders/checkout-session/${e}?url=${r.N.payUrl}`,s)}getProducts(e=1){return this._HttpClient.get(r.N.baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(r.N.baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(r.N.baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(r.N.baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(r.N.baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(r.N.baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(r.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(r.N.baseUrlData+"/cart")}updatePoductCount(e,s){return this._HttpClient.put(r.N.baseUrlData+"/cart/"+e,{count:s})}deletePoductCart(e){return this._HttpClient.delete(r.N.baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(r.N.baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(r.N.baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(r.N.baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(r.N.baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(r.N.baseUrlData+"/wishlist")}setAddresses(e){return this._HttpClient.post(r.N.baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(r.N.baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(r.N.baseUrlData+`/addresses/${e}`)}}return(o=_).\u0275fac=function(e){return new(e||o)(t.LFG(u.eN),t.LFG(p._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),_})()},848:(m,d,n)=>{n.r(d),n.d(d,{AllordersComponent:()=>h});var l=n(6814),r=n(1651),t=n(4769),u=n(9573),p=n(5491);function g(e,s){if(1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"img",17),t.TgZ(3,"div",18)(4,"h3",19),t._uU(5),t.ALo(6,"cuttext"),t.qZA(),t.TgZ(7,"span",20),t._uU(8),t.qZA(),t.TgZ(9,"span",20),t._uU(10),t.qZA()()(),t._UZ(11,"hr",21),t.qZA()),2&e){const a=s.$implicit;t.xp6(2),t.Q6J("src",a.product.imageCover,t.LSH)("alt",a.product.title),t.xp6(3),t.hij(" ",t.xi3(6,5,a.product.title,3)," "),t.xp6(3),t.hij(" Count:",a.count," "),t.xp6(2),t.hij(" Price:",a.price," ")}}function o(e,s){if(1&e&&(t.TgZ(0,"div",4)(1,"h3",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t.YNc(4,g,12,8,"div",7),t.qZA(),t.TgZ(5,"div",8)(6,"div",9)(7,"p",10)(8,"span"),t._uU(9," Is Delivered: "),t.qZA(),t.TgZ(10,"span",11),t._uU(11),t.qZA()(),t.TgZ(12,"p",10)(13,"span"),t._uU(14," Is Paid: "),t.qZA(),t.TgZ(15,"span",11),t._uU(16),t.qZA()(),t.TgZ(17,"span",12),t._uU(18),t.qZA(),t.TgZ(19,"span",12),t._uU(20),t.qZA()()(),t.TgZ(21,"div",13),t._UZ(22,"hr",14),t.qZA()()),2&e){const a=s.$implicit,i=s.index;t.xp6(2),t.hij("Order: ",i+1,""),t.xp6(2),t.Q6J("ngForOf",a.cartItems),t.xp6(6),t.Tol(a.isDelivered?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(a.isDelivered?"Yes":"No"),t.xp6(4),t.Tol(a.isPaid?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(a.isPaid?"Yes":"No"),t.xp6(2),t.hij(" Payment Method Type: ",a.paymentMethodType," "),t.xp6(2),t.hij(" totalOrderPrice: ",a.totalOrderPrice," ")}}function _(e,s){if(1&e&&(t.TgZ(0,"section",1)(1,"h1",2),t._uU(2,"All Orders"),t.qZA(),t.YNc(3,o,23,10,"div",3),t.qZA()),2&e){const a=t.oxw();t.xp6(3),t.Q6J("ngForOf",a.ordersData)}}let h=(()=>{var e;class s{constructor(i,c){this._AuthService=i,this._EcomdataService=c,this.ordersData=[],this.userId=""}ngOnInit(){this._AuthService.userData.subscribe({next:i=>{null!==i&&(this.userId=i.id,this._EcomdataService.getUserOrders(this.userId).subscribe({next:c=>{this.ordersData=c}}))}})}}return(e=s).\u0275fac=function(i){return new(i||e)(t.Y36(u.e),t.Y36(p.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","rounded shadow bg-main-light w-75 mx-auto p-3 allorders",4,"ngIf"],[1,"rounded","shadow","bg-main-light","w-75","mx-auto","p-3","allorders"],[1,"text-center","h4"],["class","row align-items-center border rounded m-2 p-2",4,"ngFor","ngForOf"],[1,"row","align-items-center","border","rounded","m-2","p-2"],[1,"h6"],[1,"col-md-8"],["class","ps-5 mb-1",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"border","border-dark","rounded","p-1"],[1,"mb-0"],[1,"badge"],[1,"d-block"],[1,"col-12"],[1,"my-3","mx-5"],[1,"ps-5","mb-1"],[1,"product-item","d-flex","align-items-center","gap-3"],["width","70",3,"src","alt"],[1,"product-info"],[1,"h6","small","text-main"],[1,"text-muted","d-block"],[1,"border-warning","mx-5"]],template:function(i,c){1&i&&t.YNc(0,_,4,1,"section",0),2&i&&t.Q6J("ngIf",c.ordersData.length)},dependencies:[l.ez,l.sg,l.O5,r.r],styles:[".allorders[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]}),s})()},5516:(m,d,n)=>{n.d(d,{N:()=>l});const l={baseUrlAuth:"https://ecommerce.routemisr.com/api/v1/auth",baseUrlData:"https://ecommerce.routemisr.com/api/v1",payUrl:"http://localhost:4200"}}}]);