"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[848],{5491:(C,c,n)=>{n.d(c,{J:()=>g});var d=n(5619),s=n(5516),t=n(4769),p=n(9862),m=n(2425);let g=(()=>{var l;class u{constructor(e,r){this._HttpClient=e,this._ToastrService=r,this.cartNumber=new d.X(0)}getUserOrders(e){return this._HttpClient.get(s.N.baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:r=>{"success"===r.status&&(this._ToastrService.success(r.message),this.cartNumber.next(r.numOfCartItems))}})}SetcheckOut(e,r){return this._HttpClient.post(s.N.baseUrlData+`/orders/checkout-session/${e}?url=${s.N.payUrl}`,r)}getProducts(e=1){return this._HttpClient.get(s.N.baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(s.N.baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(s.N.baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(s.N.baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(s.N.baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(s.N.baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(s.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(s.N.baseUrlData+"/cart")}updatePoductCount(e,r){return this._HttpClient.put(s.N.baseUrlData+"/cart/"+e,{count:r})}deletePoductCart(e){return this._HttpClient.delete(s.N.baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(s.N.baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(s.N.baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(s.N.baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(s.N.baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(s.N.baseUrlData+"/wishlist")}setAddresses(e){return this._HttpClient.post(s.N.baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(s.N.baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(s.N.baseUrlData+`/addresses/${e}`)}}return(l=u).\u0275fac=function(e){return new(e||l)(t.LFG(p.eN),t.LFG(m._W))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),u})()},848:(C,c,n)=>{n.r(c),n.d(c,{AllordersComponent:()=>e});var d=n(6814),s=n(1651),t=n(4769),p=n(9573),m=n(5491);function g(r,i){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._UZ(2,"img",18),t.TgZ(3,"div",19)(4,"h3",20),t._uU(5),t.ALo(6,"cuttext"),t.qZA(),t.TgZ(7,"span",21),t._uU(8),t.qZA(),t.TgZ(9,"span",21),t._uU(10),t.qZA()()(),t._UZ(11,"hr",22),t.qZA()),2&r){const a=i.$implicit;t.xp6(2),t.Q6J("src",a.product.imageCover,t.LSH)("alt",a.product.title),t.xp6(3),t.hij(" ",t.xi3(6,5,a.product.title,3)," "),t.xp6(3),t.hij(" Count:",a.count," "),t.xp6(2),t.hij(" Price:",a.price," ")}}function l(r,i){if(1&r&&(t.TgZ(0,"div",5)(1,"h3",6),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t.YNc(4,g,12,8,"div",8),t.qZA(),t.TgZ(5,"div",9)(6,"div",10)(7,"p",11)(8,"span"),t._uU(9," Is Delivered: "),t.qZA(),t.TgZ(10,"span",12),t._uU(11),t.qZA()(),t.TgZ(12,"p",11)(13,"span"),t._uU(14," Is Paid: "),t.qZA(),t.TgZ(15,"span",12),t._uU(16),t.qZA()(),t.TgZ(17,"span",13),t._uU(18),t.qZA(),t.TgZ(19,"span",13),t._uU(20),t.qZA()()(),t.TgZ(21,"div",14),t._UZ(22,"hr",15),t.qZA()()),2&r){const a=i.$implicit,o=i.index;t.xp6(2),t.hij("Order: ",o+1,""),t.xp6(2),t.Q6J("ngForOf",a.cartItems),t.xp6(6),t.Tol(a.isDelivered?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(a.isDelivered?"Yes":"No"),t.xp6(4),t.Tol(a.isPaid?"bg-success":"bg-danger"),t.xp6(1),t.Oqu(a.isPaid?"Yes":"No"),t.xp6(2),t.hij(" Payment Method Type: ",a.paymentMethodType," "),t.xp6(2),t.hij(" totalOrderPrice: ",a.totalOrderPrice," ")}}function u(r,i){if(1&r&&(t.TgZ(0,"section",2)(1,"h1",3),t._uU(2,"All Orders"),t.qZA(),t.YNc(3,l,23,10,"div",4),t.qZA()),2&r){const a=t.oxw();t.xp6(3),t.Q6J("ngForOf",a.ordersData)}}function h(r,i){1&r&&(t.TgZ(0,"h1",23),t._uU(1,"Your All Orders Is Empty..."),t.qZA())}let e=(()=>{var r;class i{constructor(o,_){this._AuthService=o,this._EcomdataService=_,this.ordersData=[],this.userId=""}ngOnInit(){this._AuthService.userData.subscribe({next:o=>{null!==o&&(this.userId=o.id,this._EcomdataService.getUserOrders(this.userId).subscribe({next:_=>{this.ordersData=_}}))}})}}return(r=i).\u0275fac=function(o){return new(o||r)(t.Y36(p.e),t.Y36(m.J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","rounded shadow bg-main-light w-75 mx-auto p-3 allorders",4,"ngIf","ngIfElse"],["oreder",""],[1,"rounded","shadow","bg-main-light","w-75","mx-auto","p-3","allorders"],[1,"text-center","h4"],["class","row align-items-center border rounded m-2 p-2",4,"ngFor","ngForOf"],[1,"row","align-items-center","border","rounded","m-2","p-2"],[1,"h6"],[1,"col-md-8"],["class","ps-5 mb-1",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"border","border-dark","rounded","p-1"],[1,"mb-0"],[1,"badge"],[1,"d-block"],[1,"col-12"],[1,"my-3","mx-5"],[1,"ps-5","mb-1"],[1,"product-item","d-flex","align-items-center","gap-3"],["width","70",3,"src","alt"],[1,"product-info"],[1,"h6","small","text-main"],[1,"text-muted","d-block"],[1,"border-warning","mx-5"],[1,"text-center","my-3","display-3"]],template:function(o,_){if(1&o&&(t.YNc(0,u,4,1,"section",0),t.YNc(1,h,2,0,"ng-template",null,1,t.W1O)),2&o){const v=t.MAs(2);t.Q6J("ngIf",_.ordersData.length)("ngIfElse",v)}},dependencies:[d.ez,d.sg,d.O5,s.r],styles:[".allorders[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]}),i})()},5516:(C,c,n)=>{n.d(c,{N:()=>d});const d={baseUrlAuth:"https://ecommerce.routemisr.com/api/v1/auth",baseUrlData:"https://ecommerce.routemisr.com/api/v1",payUrl:"http://localhost:4200"}}}]);