"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[395],{5491:(h,d,s)=>{s.d(d,{J:()=>g});var _=s(5619),r=s(5516),i=s(4769),t=s(9862),m=s(2425);let g=(()=>{var c;class u{constructor(e,a){this._HttpClient=e,this._ToastrService=a,this.cartNumber=new _.X(0)}getUserOrders(e){return this._HttpClient.get(r.N.baseUrlData+"/orders/user/"+e)}addToCart(e){this.sendToCart(e).subscribe({next:a=>{"success"===a.status&&(this._ToastrService.success(a.message),this.cartNumber.next(a.numOfCartItems))}})}SetcheckOut(e,a){return this._HttpClient.post(r.N.baseUrlData+`/orders/checkout-session/${e}?url=${r.N.payUrl}`,a)}getProducts(e=1){return this._HttpClient.get(r.N.baseUrlData+`/products?page=${e}`)}getProductById(e){return this._HttpClient.get(r.N.baseUrlData+"/products/"+e)}getCategories(){return this._HttpClient.get(r.N.baseUrlData+"/categories")}getCategoriesById(e){return this._HttpClient.get(r.N.baseUrlData+"/categories/"+e)}getSubCategoriesToCat(e){return this._HttpClient.get(r.N.baseUrlData+`/categories/${e}/subcategories`)}sendToCart(e){return this._HttpClient.post(r.N.baseUrlData+"/cart",{productId:e})}getCartData(){return this._HttpClient.get(r.N.baseUrlData+"/cart")}clearCart(){return this._HttpClient.delete(r.N.baseUrlData+"/cart")}updatePoductCount(e,a){return this._HttpClient.put(r.N.baseUrlData+"/cart/"+e,{count:a})}deletePoductCart(e){return this._HttpClient.delete(r.N.baseUrlData+"/cart/"+e)}getBrands(e=1){return this._HttpClient.get(r.N.baseUrlData+`/brands?page=${e}`)}getBrandData(e){return this._HttpClient.get(r.N.baseUrlData+`/brands/${e}`)}setWishlist(e){return this._HttpClient.post(r.N.baseUrlData+"/wishlist",{productId:e})}removeWishlist(e){return this._HttpClient.delete(r.N.baseUrlData+`/wishlist/${e}`)}getWishlist(){return this._HttpClient.get(r.N.baseUrlData+"/wishlist")}setAddresses(e){return this._HttpClient.post(r.N.baseUrlData+"/addresses",e)}getAddresses(){return this._HttpClient.get(r.N.baseUrlData+"/addresses")}removeAddresses(e){return this._HttpClient.delete(r.N.baseUrlData+`/addresses/${e}`)}}return(c=u).\u0275fac=function(e){return new(e||c)(i.LFG(t.eN),i.LFG(m._W))},c.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),u})()},7395:(h,d,s)=>{s.r(d),s.d(d,{ProfileComponent:()=>u});var _=s(2425),r=s(6814),i=s(95),t=s(4769),m=s(5491);function g(n,e){if(1&n){const a=t.EpF();t.TgZ(0,"tr",13)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"span",14),t.NdJ("click",function(){const p=t.CHM(a).$implicit,C=t.oxw(2);return t.KtG(C.removeAddress(p._id))}),t._UZ(10,"i",15),t.qZA()()}if(2&n){const a=e.$implicit;t.xp6(2),t.Oqu(a.name),t.xp6(2),t.Oqu(a.details),t.xp6(2),t.Oqu(a.phone),t.xp6(2),t.Oqu(a.city)}}function c(n,e){if(1&n&&(t.TgZ(0,"table",10)(1,"thead")(2,"tr",11)(3,"th"),t._uU(4,"Name:"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Details:"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Phone:"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"City:"),t.qZA()()(),t.TgZ(11,"tbody"),t.YNc(12,g,11,4,"tr",12),t.qZA()()),2&n){const a=t.oxw();t.xp6(12),t.Q6J("ngForOf",a.profileData)}}let u=(()=>{var n;class e{constructor(o,l,p){this._EcomdataService=o,this._fb=l,this._ToastrService=p,this.profileData=[]}ngOnInit(){this.addressForm=this._fb.group({name:[""],details:[""],phone:[""],city:[""]}),this._EcomdataService.getAddresses().subscribe({next:o=>{this.profileData=o.data}})}addAddress(){this._EcomdataService.setAddresses(this.addressForm.value).subscribe({next:o=>{this.profileData=o.data,this.addressForm.reset(),this._ToastrService.success(o.message)}})}removeAddress(o){this._EcomdataService.removeAddresses(o).subscribe({next:l=>{this.profileData=l.data,this._ToastrService.success(l.message)}})}}return(n=e).\u0275fac=function(o){return new(o||n)(t.Y36(m.J),t.Y36(i.qu),t.Y36(_._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profile"]],standalone:!0,features:[t.jDz],decls:15,vars:2,consts:[[1,"table-responsive","table-data"],["class","table",4,"ngIf"],[1,"border","rounded","p-3","shadow","mt-5",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-md-6","col-lg-4","col-xl-3"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["placeholder","Details","formControlName","details",1,"form-control"],["type","tel","placeholder","Phone","formControlName","phone",1,"form-control"],["type","text","placeholder","City","formControlName","city",1,"form-control"],["type","submit",1,"main-btn","mx-auto"],[1,"table"],[1,"table-primary"],["class","small position-relative",4,"ngFor","ngForOf"],[1,"small","position-relative"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-4","delete",3,"click"],[1,"fas","fa-trash","text-danger","fa-xl"]],template:function(o,l){1&o&&(t.TgZ(0,"section")(1,"div",0),t.YNc(2,c,13,1,"table",1),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return l.addAddress()}),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",4),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"ADD ADDRESS"),t.qZA()()()()),2&o&&(t.xp6(2),t.Q6J("ngIf",l.profileData.length),t.xp6(1),t.Q6J("formGroup",l.addressForm))},dependencies:[r.ez,r.sg,r.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.Rh],styles:[".table-data[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto}.table-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{width:initial!important}.table-data[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:initial!important}.table-data[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{all:unset;background-color:#07b020}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .delete[_ngcontent-%COMP%]{opacity:1}"]}),e})()}}]);